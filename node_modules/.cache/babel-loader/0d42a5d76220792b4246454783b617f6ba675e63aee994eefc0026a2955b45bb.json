{"ast":null,"code":"import _regeneratorRuntime from\"/home/atharva/Documents/projects/dappazon/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/atharva/Documents/projects/dappazon/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/atharva/Documents/projects/dappazon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{ethers}from'ethers';// Components\nimport Navigation from'./components/Navigation';import Section from'./components/Section';import Product from'./components/Product';// ABIs\nimport Dappazon from'./abis/Dappazon.json';// Config\nimport config from'./config.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),provider=_useState2[0],setProvider=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),dappazon=_useState4[0],setDappazon=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),account=_useState6[0],setAccount=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),electronics=_useState8[0],setElectronics=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),clothing=_useState10[0],setClothing=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),toys=_useState12[0],setToys=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),item=_useState14[0],setItem=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),toggle=_useState16[0],setToggle=_useState16[1];var togglePop=function togglePop(item){setItem(item);toggle?setToggle(false):setToggle(true);};var loadBlockchainData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var provider,network,dappazon,items,i,_item,electronics,clothing,toys;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:provider=new ethers.providers.Web3Provider(window.ethereum);setProvider(provider);_context.next=4;return provider.getNetwork();case 4:network=_context.sent;dappazon=new ethers.Contract(config[network.chainId].dappazon.address,Dappazon,provider);setDappazon(dappazon);items=[];i=0;case 9:if(!(i<9)){_context.next=17;break;}_context.next=12;return dappazon.items(i+1);case 12:_item=_context.sent;items.push(_item);case 14:i++;_context.next=9;break;case 17:electronics=items.filter(function(item){return item.category==='electronics';});clothing=items.filter(function(item){return item.category==='clothing';});toys=items.filter(function(item){return item.category==='toys';});setElectronics(electronics);setClothing(clothing);setToys(toys);case 23:case\"end\":return _context.stop();}}},_callee);}));return function loadBlockchainData(){return _ref.apply(this,arguments);};}();useEffect(function(){loadBlockchainData();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navigation,{account:account,setAccount:setAccount}),/*#__PURE__*/_jsx(\"h2\",{children:\"Dappazon Best Sellers\"}),electronics&&clothing&&toys&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Section,{title:\"Clothing & Jewelry\",items:clothing,togglePop:togglePop}),/*#__PURE__*/_jsx(Section,{title:\"Electronics & Gadgets\",items:electronics,togglePop:togglePop}),/*#__PURE__*/_jsx(Section,{title:\"Toys & Gaming\",items:toys,togglePop:togglePop})]}),toggle&&/*#__PURE__*/_jsx(Product,{item:item,provider:provider,account:account,dappazon:dappazon,togglePop:togglePop})]});}export default App;","map":{"version":3,"names":["useEffect","useState","ethers","Navigation","Section","Product","Dappazon","config","App","provider","setProvider","dappazon","setDappazon","account","setAccount","electronics","setElectronics","clothing","setClothing","toys","setToys","item","setItem","toggle","setToggle","togglePop","loadBlockchainData","providers","Web3Provider","window","ethereum","getNetwork","network","Contract","chainId","address","items","i","push","filter","category"],"sources":["/home/atharva/Documents/projects/dappazon/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { ethers } from 'ethers'\n\n// Components\nimport Navigation from './components/Navigation'\nimport Section from './components/Section'\nimport Product from './components/Product'\n\n// ABIs\nimport Dappazon from './abis/Dappazon.json'\n\n// Config\nimport config from './config.json'\n\nfunction App() {\n  const [provider, setProvider] = useState(null)\n  const [dappazon, setDappazon] = useState(null)\n\n  const [account, setAccount] = useState(null)\n\n  const [electronics, setElectronics] = useState(null)\n  const [clothing, setClothing] = useState(null)\n  const [toys, setToys] = useState(null)\n\n  const [item, setItem] = useState({})\n  const [toggle, setToggle] = useState(false)\n\n  const togglePop = (item) => {\n    setItem(item)\n    toggle ? setToggle(false) : setToggle(true)\n  }\n\n  const loadBlockchainData = async () => {\n    const provider = new ethers.providers.Web3Provider(window.ethereum)\n    setProvider(provider)\n    const network = await provider.getNetwork()\n\n    const dappazon = new ethers.Contract(config[network.chainId].dappazon.address, Dappazon, provider)\n    setDappazon(dappazon)\n\n    const items = []\n\n    for (var i = 0; i < 9; i++) {\n      const item = await dappazon.items(i + 1)\n      items.push(item)\n    }\n\n    const electronics = items.filter((item) => item.category === 'electronics')\n    const clothing = items.filter((item) => item.category === 'clothing')\n    const toys = items.filter((item) => item.category === 'toys')\n\n    setElectronics(electronics)\n    setClothing(clothing)\n    setToys(toys)\n  }\n\n  useEffect(() => {\n    loadBlockchainData()\n  }, [])\n\n  return (\n    <div>\n      <Navigation account={account} setAccount={setAccount} />\n\n      <h2>Dappazon Best Sellers</h2>\n\n      {electronics && clothing && toys && (\n        <>\n          <Section title={\"Clothing & Jewelry\"} items={clothing} togglePop={togglePop} />\n          <Section title={\"Electronics & Gadgets\"} items={electronics} togglePop={togglePop} />\n          <Section title={\"Toys & Gaming\"} items={toys} togglePop={togglePop} />\n        </>\n      )}\n\n      {toggle && (\n        <Product item={item} provider={provider} account={account} dappazon={dappazon} togglePop={togglePop} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}